{% load static %}
{% load static tailwind_tags %}

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Expense Tracker {% block title %}
    {% endblock %} </title>
  
  <style>
    /* Global styles */
    * {
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    
    body {
      background: linear-gradient(-45deg, #667eea, #764ba2, #667eea, #764ba2);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }
    
    @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }
    
    /* Floating particles background */
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 2px, transparent 2px),
        radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.1) 2px, transparent 2px),
        radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.1) 2px, transparent 2px),
        radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.1) 2px, transparent 2px);
      background-size: 300px 300px;
      animation: floatParticles 20s linear infinite;
      z-index: 0;
    }
    
    @keyframes floatParticles {
      0% {
        transform: translateY(0) translateX(0);
      }
      100% {
        transform: translateY(-300px) translateX(100px);
      }
    }
    
    /* Animated background circles */
    body::after {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: pulseCircle 8s ease-in-out infinite;
      z-index: 0;
    }
    
    @keyframes pulseCircle {
      0%, 100% {
        transform: scale(1);
        opacity: 0.3;
      }
      50% {
        transform: scale(1.2);
        opacity: 0.5;
      }
    }
    
    /* Main content container */
    main[role="main"] {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      animation: fadeIn 0.8s ease-out;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Floating emojis */
    .floating-emoji {
      position: absolute;
      font-size: 2rem;
      opacity: 0.3;
      pointer-events: none;
      z-index: 0;
      animation: floatEmoji 3s ease-in-out infinite;
    }
    
    @keyframes floatEmoji {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(10deg);
      }
    }
    
    /* Card animations */
    .auth-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 24px;
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(255, 255, 255, 0.1);
      animation: cardFloat 6s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    @keyframes cardFloat {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-10px) rotate(0.5deg);
      }
    }
    
    .auth-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      animation: cardShine 3s infinite;
    }
    
    @keyframes cardShine {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }
    
    /* Logo animation */
    .auth-logo {
      animation: logoBounce 2s ease-in-out infinite;
      transition: transform 0.3s ease;
    }
    
    .auth-logo:hover {
      transform: rotate(15deg) scale(1.1);
    }
    
    @keyframes logoBounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    
    /* Form animations */
    .form-group {
      animation: slideInUp 0.6s ease-out;
      animation-fill-mode: both;
    }
    
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Stagger form animations */
    .form-group:nth-child(1) {
      animation-delay: 0.1s;
    }
    .form-group:nth-child(2) {
      animation-delay: 0.2s;
    }
    .form-group:nth-child(3) {
      animation-delay: 0.3s;
    }
    .form-group:nth-child(4) {
      animation-delay: 0.4s;
    }
    
    /* Input field animations */
    .auth-input {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-width: 2px !important;
      background: rgba(255, 255, 255, 0.9) !important;
    }
    
    .auth-input:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.2);
      border-color: #667eea !important;
    }
    
    .auth-input:focus {
      transform: translateY(-3px);
      box-shadow: 
        0 15px 30px rgba(102, 126, 234, 0.3),
        0 0 0 3px rgba(102, 126, 234, 0.1) !important;
      animation: inputFocus 2s infinite;
    }
    
    @keyframes inputFocus {
      0%, 100% {
        box-shadow: 
          0 15px 30px rgba(102, 126, 234, 0.3),
          0 0 0 3px rgba(102, 126, 234, 0.1);
      }
      50% {
        box-shadow: 
          0 15px 35px rgba(102, 126, 234, 0.4),
          0 0 0 3px rgba(102, 126, 234, 0.2);
      }
    }
    
    /* Button animations */
    .auth-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-size: 200% 200%;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: none;
      font-weight: 600;
      letter-spacing: 0.5px;
      animation: buttonPulse 3s infinite;
    }
    
    @keyframes buttonPulse {
      0%, 100% {
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
      }
      50% {
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.5);
      }
    }
    
    .auth-button:hover {
      background-position: right center;
      transform: translateY(-3px) scale(1.02);
      box-shadow: 
        0 20px 40px rgba(102, 126, 234, 0.4),
        0 0 0 3px rgba(102, 126, 234, 0.1) !important;
    }
    
    .auth-button:active {
      transform: translateY(-1px) scale(0.98);
    }
    
    .auth-button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    .auth-button:active::before {
      width: 300px;
      height: 300px;
    }
    
    .auth-button::after {
      content: 'üöÄ';
      position: absolute;
      right: 20px;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .auth-button:hover::after {
      opacity: 1;
      transform: translateX(5px);
    }
    
    /* Link animations */
    .auth-link {
      position: relative;
      display: inline-block;
      transition: all 0.3s ease;
      color: #667eea;
      font-weight: 500;
    }
    
    .auth-link:hover {
      color: #764ba2;
      transform: translateX(5px);
    }
    
    .auth-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, #667eea, #764ba2);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }
    
    .auth-link:hover::after {
      transform: scaleX(1);
    }
    
    /* Title animations */
    .auth-title {
      animation: titleReveal 0.8s ease-out;
      position: relative;
      display: inline-block;
    }
    
    @keyframes titleReveal {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .auth-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2);
      border-radius: 2px;
      animation: titleUnderline 3s ease-in-out infinite;
    }
    
    @keyframes titleUnderline {
      0%, 100% {
        width: 60px;
      }
      50% {
        width: 100px;
      }
    }
    
    /* Message animations */
    .alert-message {
      animation: slideInRight 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      body {
        background: linear-gradient(-45deg, #667eea, #764ba2);
      }
      
      .auth-card {
        margin: 1rem;
        padding: 1.5rem !important;
      }
      
      .auth-button:hover {
        transform: translateY(-2px);
      }
      
      .auth-input:hover {
        transform: translateY(-1px);
      }
      
      .floating-emoji {
        font-size: 1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .auth-card {
        border-radius: 16px;
      }
      
      .auth-button::after {
        display: none;
      }
      
      body::after {
        display: none;
      }
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      .auth-card {
        background: rgba(17, 24, 39, 0.95);
        color: #fff;
        border-color: rgba(255, 255, 255, 0.1);
      }
      
      .auth-input {
        background: rgba(31, 41, 55, 0.9) !important;
        border-color: #4b5563 !important;
        color: #fff;
      }
      
      .auth-input:hover,
      .auth-input:focus {
        border-color: #667eea !important;
      }
      
      body::before {
        background: 
          radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
          radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
          radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
          radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.05) 2px, transparent 2px);
      }
    }
    
    /* Loading animation */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }
    
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
    
    /* Success/Error message animations */
    .alert-success {
      animation: successPulse 2s ease-in-out infinite;
    }
    
    .alert-error {
      animation: errorShake 0.5s ease-in-out;
    }
    
    @keyframes successPulse {
      0%, 100% {
        box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
      }
      50% {
        box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
      }
    }
    
    @keyframes errorShake {
      0%, 100% {
        transform: translateX(0);
      }
      25% {
        transform: translateX(-10px);
      }
      75% {
        transform: translateX(10px);
      }
    }
  </style>
  
  {% tailwind_css %}
    
</head>

<body>
  <!-- Floating emojis -->
  <div class="floating-emoji" style="top: 10%; left: 5%; animation-delay: 0s;">üí∞</div>
  <div class="floating-emoji" style="top: 20%; right: 10%; animation-delay: 1s;">üìä</div>
  <div class="floating-emoji" style="bottom: 30%; left: 15%; animation-delay: 2s;">üí≥</div>
  <div class="floating-emoji" style="bottom: 20%; right: 5%; animation-delay: 3s;">üéØ</div>
  <div class="floating-emoji" style="top: 40%; left: 20%; animation-delay: 4s;">üîê</div>

  <main role="main">
    {% block content %}
    {% endblock %}
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add floating emojis dynamically
      const emojis = ['üí∞', 'üìà', 'üí∏', 'üìä', 'üí≥', 'üéØ', 'üîê', 'üì±', 'üíª', 'üîÑ'];
      const container = document.body;
      
      // Add more floating emojis for desktop
      if (window.innerWidth > 768) {
        for (let i = 0; i < 10; i++) {
          const emoji = document.createElement('div');
          emoji.className = 'floating-emoji';
          emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          emoji.style.cssText = `
            top: ${Math.random() * 100}%;
            left: ${Math.random() * 100}%;
            font-size: ${Math.random() * 1.5 + 1}rem;
            animation-delay: ${Math.random() * 5}s;
            animation-duration: ${Math.random() * 2 + 2}s;
            opacity: ${Math.random() * 0.3 + 0.1};
          `;
          container.appendChild(emoji);
        }
      }
      
      // Add ripple effect to buttons
      const buttons = document.querySelectorAll('button, .auth-button');
      buttons.forEach(button => {
        button.addEventListener('click', function(e) {
          const rect = this.getBoundingClientRect();
          const ripple = document.createElement('span');
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.style.cssText = `
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: scale(0);
            animation: ripple 0.6s linear;
            width: ${size}px;
            height: ${size}px;
            top: ${y}px;
            left: ${x}px;
            pointer-events: none;
          `;
          
          this.appendChild(ripple);
          
          setTimeout(() => {
            ripple.remove();
          }, 600);
        });
      });
      
      // Add ripple animation to CSS
      const style = document.createElement('style');
      style.textContent = `
        @keyframes ripple {
          to {
            transform: scale(4);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
      
      // Form submission loading animation
      const forms = document.querySelectorAll('form');
      forms.forEach(form => {
        form.addEventListener('submit', function(e) {
          const submitBtn = this.querySelector('button[type="submit"], .auth-button');
          if (submitBtn) {
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = `
              <span class="loading-spinner"></span>
              ${submitBtn.textContent.trim()}
            `;
            submitBtn.disabled = true;
            
            // Restore button if form submission fails (for demo)
            setTimeout(() => {
              if (submitBtn.disabled) {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
              }
            }, 3000);
          }
        });
      });
      
      // Input field focus effects
      const inputs = document.querySelectorAll('input, select, textarea');
      inputs.forEach(input => {
        // Add class for styling
        input.classList.add('auth-input');
        
        input.addEventListener('focus', function() {
          this.parentElement.style.transform = 'translateY(-2px)';
        });
        
        input.addEventListener('blur', function() {
          this.parentElement.style.transform = 'translateY(0)';
        });
      });
      
      // Add hover effect to links
      const links = document.querySelectorAll('a');
      links.forEach(link => {
        if (link.href && !link.href.includes('#')) {
          link.classList.add('auth-link');
        }
      });
    });
    
    // Parallax effect on mouse move
    document.addEventListener('mousemove', function(e) {
      const x = e.clientX / window.innerWidth;
      const y = e.clientY / window.innerHeight;
      
      const emojis = document.querySelectorAll('.floating-emoji');
      emojis.forEach(emoji => {
        const speed = parseFloat(emoji.style.fontSize) || 2;
        const moveX = (x - 0.5) * 20 * speed;
        const moveY = (y - 0.5) * 20 * speed;
        
        emoji.style.transform = `translate(${moveX}px, ${moveY}px)`;
      });
      
      const cards = document.querySelectorAll('.auth-card');
      cards.forEach(card => {
        const moveX = (x - 0.5) * 10;
        const moveY = (y - 0.5) * 10;
        
        card.style.transform = `translate(${moveX}px, ${moveY}px)`;
      });
    });
  </script>
</body>

</html>